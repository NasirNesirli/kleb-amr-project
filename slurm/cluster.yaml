# Default cluster resources
__default__:
  account: "YOUR_ACCOUNT"
  partition: "YOUR_PARTITION"
  cpus: 2
  mem: "8G"
  time: "02:00:00"
  name: "{rule}"

# Stage-specific resource allocations
process_metadata:
  cpus: 1
  mem: "4G"
  time: "00:30:00"

download_reads:
  cpus: 2
  mem: "8G"
  time: "04:00:00"

fastp_trim:
  cpus: 8
  mem: "16G"
  time: "02:00:00"

fastqc_raw:
  cpus: 4
  mem: "8G"
  time: "01:00:00"

fastqc_trimmed:
  cpus: 4
  mem: "8G"
  time: "01:00:00"

downsample_reads:
  cpus: 4
  mem: "16G"
  time: "02:00:00"

spades_assembly:
  cpus: 16
  mem: "64G"
  time: "08:00:00"

quast_evaluation:
  cpus: 4
  mem: "8G"
  time: "01:00:00"

busco_completeness:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

kraken2_contamination:
  cpus: 8
  mem: "32G"
  time: "02:00:00"

run_amrfinder:
  cpus: 4
  mem: "16G"
  time: "02:00:00"

bwa_align:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

call_snps:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

create_feature_matrix:
  cpus: 4
  mem: "16G"
  time: "02:00:00"

feature_selection:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

batch_correction:
  cpus: 4
  mem: "16G"
  time: "02:00:00"

prepare_training_data:
  cpus: 4
  mem: "16G"
  time: "02:00:00"

create_kmer_datasets:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

create_dnabert_datasets:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

# Machine Learning Models
train_xgboost:
  cpus: 16
  mem: "64G"
  time: "06:00:00"

train_lightgbm:
  cpus: 16
  mem: "64G"
  time: "06:00:00"

# Deep Learning Models (GPU recommended)
train_1dcnn:
  cpus: 8
  mem: "64G"
  time: "12:00:00"
  gres: "gpu:1"  # Request GPU if available

train_sequence_cnn:
  cpus: 8
  mem: "64G"
  time: "12:00:00"
  gres: "gpu:1"

train_dnabert:
  cpus: 8
  mem: "64G"
  time: "24:00:00"
  gres: "gpu:1"

interpretability_analysis:
  cpus: 8
  mem: "32G"
  time: "04:00:00"

ensemble_analysis:
  cpus: 8
  mem: "32G"
  time: "04:00:00"